{"ast":null,"code":"var _jsxFileName = \"/Users/viniciusdias/Documents/projetos/feast-app-front-end/src/contexts/authGoogle.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState } from 'react';\nimport { GoogleAuthProvider, getAuth, signInWithPopup } from 'firebase/auth';\nimport { app } from './firebaseConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst provider = new GoogleAuthProvider();\nexport const AuthGoogleContext = /*#__PURE__*/createContext({});\nconst AuthGoogleProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const auth = getAuth(app);\n  const [user, setUser] = useState(null);\n  const signInGoogle = () => {\n    signInWithPopup(auth, provider).then(result => {\n      const credential = GoogleAuthProvider.credentialFromResult(result);\n      const token = credential.accessToken;\n      const user = result.user;\n      setUser(user);\n      sessionStorage.setItem(\"@AuthFirebase:token\", token);\n      sessionStorage.setItem(\"@AuthFirebase:user\", JSON.stringify(user));\n    }).catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      const email = error.customData.email;\n      const credential = GoogleAuthProvider.credentialFromError(error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(AuthGoogleContext.Provider, {\n    value: {\n      signInGoogle,\n      signed: !!user\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 3\n  }, this);\n};\n_s(AuthGoogleProvider, \"Iei9RGtZU29Y1RhBe1sbfh/MntA=\");\n_c = AuthGoogleProvider;\nexport default AuthGoogleProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthGoogleProvider\");","map":{"version":3,"names":["React","createContext","useState","GoogleAuthProvider","getAuth","signInWithPopup","app","provider","AuthGoogleContext","AuthGoogleProvider","children","auth","user","setUser","signInGoogle","then","result","credential","credentialFromResult","token","accessToken","sessionStorage","setItem","JSON","stringify","catch","error","errorCode","code","errorMessage","message","email","customData","credentialFromError","signed"],"sources":["/Users/viniciusdias/Documents/projetos/feast-app-front-end/src/contexts/authGoogle.js"],"sourcesContent":["import React, { createContext, useState } from 'react';\nimport { GoogleAuthProvider, getAuth, signInWithPopup } from 'firebase/auth';\nimport { app } from './firebaseConfig';\n\nconst provider = new GoogleAuthProvider();\n\nexport const AuthGoogleContext = createContext({})\n\nconst AuthGoogleProvider = ({ children }) => {\n\tconst auth = getAuth(app);\n\tconst [user, setUser] = useState(null);\n\n\tconst signInGoogle = () => {\n\t\tsignInWithPopup(auth, provider)\n\t\t\t.then((result) => {\n\t\t\t\tconst credential = GoogleAuthProvider.credentialFromResult(result);\n\t\t\t\tconst token = credential.accessToken;\n\t\t\t\tconst user = result.user;\n\t\t\t\tsetUser(user);\n\t\t\t\tsessionStorage.setItem(\"@AuthFirebase:token\", token);\n\t\t\t\tsessionStorage.setItem(\"@AuthFirebase:user\", JSON.stringify(user));\n\t\t\t}).catch((error) => {\n\t\t\t\tconst errorCode = error.code;\n\t\t\t\tconst errorMessage = error.message;\n\t\t\t\tconst email = error.customData.email;\n\t\t\t\tconst credential = GoogleAuthProvider.credentialFromError(error);\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<AuthGoogleContext.Provider\n\t\tvalue={{ signInGoogle, signed: !!user }}></AuthGoogleContext.Provider>\n\t)\n}\n\nexport default AuthGoogleProvider;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AACtD,SAASC,kBAAkB,EAAEC,OAAO,EAAEC,eAAe,QAAQ,eAAe;AAC5E,SAASC,GAAG,QAAQ,kBAAkB;AAAC;AAEvC,MAAMC,QAAQ,GAAG,IAAIJ,kBAAkB,EAAE;AAEzC,OAAO,MAAMK,iBAAiB,gBAAGP,aAAa,CAAC,CAAC,CAAC,CAAC;AAElD,MAAMQ,kBAAkB,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EACvC,MAAMC,IAAI,GAAGP,OAAO,CAACE,GAAG,CAAC;EACzB,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAMY,YAAY,GAAG,MAAM;IAC1BT,eAAe,CAACM,IAAI,EAAEJ,QAAQ,CAAC,CAC7BQ,IAAI,CAAEC,MAAM,IAAK;MACjB,MAAMC,UAAU,GAAGd,kBAAkB,CAACe,oBAAoB,CAACF,MAAM,CAAC;MAClE,MAAMG,KAAK,GAAGF,UAAU,CAACG,WAAW;MACpC,MAAMR,IAAI,GAAGI,MAAM,CAACJ,IAAI;MACxBC,OAAO,CAACD,IAAI,CAAC;MACbS,cAAc,CAACC,OAAO,CAAC,qBAAqB,EAAEH,KAAK,CAAC;MACpDE,cAAc,CAACC,OAAO,CAAC,oBAAoB,EAAEC,IAAI,CAACC,SAAS,CAACZ,IAAI,CAAC,CAAC;IACnE,CAAC,CAAC,CAACa,KAAK,CAAEC,KAAK,IAAK;MACnB,MAAMC,SAAS,GAAGD,KAAK,CAACE,IAAI;MAC5B,MAAMC,YAAY,GAAGH,KAAK,CAACI,OAAO;MAClC,MAAMC,KAAK,GAAGL,KAAK,CAACM,UAAU,CAACD,KAAK;MACpC,MAAMd,UAAU,GAAGd,kBAAkB,CAAC8B,mBAAmB,CAACP,KAAK,CAAC;IACjE,CAAC,CAAC;EACJ,CAAC;EAED,oBACC,QAAC,iBAAiB,CAAC,QAAQ;IAC3B,KAAK,EAAE;MAAEZ,YAAY;MAAEoB,MAAM,EAAE,CAAC,CAACtB;IAAK;EAAE;IAAA;IAAA;IAAA;EAAA,QAA8B;AAExE,CAAC;AAAA,GAzBKH,kBAAkB;AAAA,KAAlBA,kBAAkB;AA2BxB,eAAeA,kBAAkB;AAAC;AAAA"},"metadata":{},"sourceType":"module"}